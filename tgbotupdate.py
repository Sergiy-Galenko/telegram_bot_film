import telegram
from telegram import InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import Updater, CommandHandler, CallbackQueryHandler

TOKEN = '5845703570:AAFlOF_HbqpJtWfrplzbpBIh0lpmCyucPHo'

DEFAULT_LANG = 'en'

# –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –±–æ—Ç–∞
def start(update, context):
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ —è–∑—ã–∫–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    update.message.reply_text(MESSAGES[DEFAULT_LANG][""], reply_markup=get_keyboard())

def change_lang(update, context):
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –º–µ–Ω—é —Å –≤—ã–±–æ—Ä–æ–º —è–∑—ã–∫–∞
    update.callback_query.message.edit_text(text=MESSAGES[DEFAULT_LANG]['change_lang'], reply_markup=get_language_keyboard())

# –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —è–∑—ã–∫–∞ –∏–∑ –º–µ–Ω—é
def select_language(update, context):
    # –ü–æ–ª—É—á–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫ –∏–∑ callback_data
    query = update.callback_query
    lang = query.data

    # –û–±–Ω–æ–≤–ª—è–µ–º —è–∑—ã–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    global DEFAULT_LANG
    DEFAULT_LANG = lang

    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ –Ω–æ–≤–æ–º —è–∑—ã–∫–µ
    query.message.edit_text(text=MESSAGES[DEFAULT_LANG]['hello'], reply_markup=get_keyboard())

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Å –≤—ã–±–æ—Ä–æ–º —è–∑—ã–∫–∞
def get_language_keyboard():
    keyboard = [
        [
            InlineKeyboardButton("üá¨üáß English", callback_data='en'),
            InlineKeyboardButton("üá∫üá¶ –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞", callback_data='uk')
        ]
    ]
    return InlineKeyboardMarkup(keyboard)

# —Ñ—É–Ω–∫—Ü–∏—è –∫–Ω–æ–ø–∫–∏ "–∑–º—ñ–Ω–∏—Ç–∏ –º–æ–≤—É"
def get_keyboard():
    keyboard = [[InlineKeyboardButton(MESSAGES[DEFAULT_LANG]['change_lang'], callback_data='change_lang')]]
    return InlineKeyboardMarkup(keyboard)
# —Ñ—É–Ω–∫—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
def create_interface():
    # –∫–Ω–æ–ø–∫–∞ —â–æ –Ω–æ–≤–æ–≥–æ
    keyboard = [[InlineKeyboardButton("–ß—Ç–æ –Ω–æ–≤–æ–≥–æ?", url=(""))]]
    reply_markup = InlineKeyboardMarkup(keyboard)

    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–∞–Ω–∞–ª —Å –∫–Ω–æ–ø–∫–æ–π "–ß—Ç–æ –Ω–æ–≤–æ–≥–æ"
    bot.send_message(chat_id="@MovieIntellect_bot", text="", reply_markup=reply_markup)

# –í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
create_interface()